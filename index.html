<!doctype html>
<html lang="ja">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Three.js 三人称カメラ＆赤い球（GLBルーム読み込み）</title>
  <link rel="stylesheet" href="main.css">
</head>

<body>
  <div id="ui">
    <div>🎮 <strong>操作</strong> — <kbd>WASD</kbd> 移動 / <kbd>Shift</kbd> ダッシュ / <kbd>Space</kbd> ジャンプ /
      <kbd>←→</kbd> アバター回転 / <kbd>↑↓</kbd> 視線上下 / マウス<strong>ドラッグ</strong>で視点回転 / <kbd>V</kbd> 視点切替 / <kbd>R</kbd> リスポーン / <kbd>H</kbd> ヘルパー切替</div>
  </div>
  <button id="cameraToggle">📷 3人称視点に切替</button>
  <button id="settingsBtn" class="settings-button" title="設定">⚙️</button>
  <div id="fps"></div>
  <div id="status">waiting for <code>room_sample.glb</code>…</div>

  <!-- 設定モーダル -->
  <div id="settingsModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>⚙️ 設定</h2>
        <button class="close-btn" id="closeModalBtn">✕</button>
      </div>
      <div class="modal-tabs">
        <button class="tab active" data-tab="graphics">グラフィック</button>
        <button class="tab" data-tab="ui">UI/表示</button>
      </div>
      <div class="modal-body">
        <!-- グラフィック設定 -->
        <div class="tab-content active" id="graphics-tab">
          <div class="setting-item">
            <label for="quality">レンダリング品質</label>
            <select id="quality" class="setting-control">
              <option value="low">低品質（パフォーマンス優先）</option>
              <option value="medium" selected>中品質（バランス）</option>
              <option value="high">高品質（品質優先）</option>
            </select>
          </div>
          <div class="setting-item">
            <label>
              <input type="checkbox" id="shadows" checked>
              影の表示
            </label>
            <span class="setting-desc">影の描画のON/OFF（パフォーマンス改善用）</span>
          </div>
          <div class="setting-item">
            <label>
              <input type="checkbox" id="antialiasing" checked>
              アンチエイリアシング
            </label>
            <span class="setting-desc">エッジの滑らかさの設定</span>
          </div>
          <div class="setting-item">
            <label for="fov">視野角: <span id="fovValue">75</span>°</label>
            <input type="range" id="fov" min="45" max="90" value="75" class="setting-slider">
            <span class="setting-desc">カメラの視野の広さを調整</span>
          </div>
        </div>
        <!-- UI/表示設定 -->
        <div class="tab-content" id="ui-tab">
          <div class="setting-item">
            <label>
              <input type="checkbox" id="showFPS" checked>
              FPS表示
            </label>
            <span class="setting-desc">画面右上のFPS表示のON/OFF</span>
          </div>
          <div class="setting-item">
            <label>
              <input type="checkbox" id="showControls" checked>
              操作ガイド表示
            </label>
            <span class="setting-desc">画面左上の操作説明の表示/非表示</span>
          </div>
          <div class="setting-item">
            <label>
              <input type="checkbox" id="showHelpers" checked>
              デバッグヘルパー表示
            </label>
            <span class="setting-desc">座標軸やバウンディングボックスの表示</span>
          </div>
          <div class="setting-item">
            <label>
              <input type="checkbox" id="showStatus" checked>
              ステータス表示
            </label>
            <span class="setting-desc">画面左下のロード状態等の表示/非表示</span>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="reset-btn" id="resetSettingsBtn">デフォルトに戻す</button>
        <button class="close-btn" id="closeModalBtn2">閉じる</button>
      </div>
    </div>
  </div>

  <script type="module" src="main.js"></script>
</body>

</html>